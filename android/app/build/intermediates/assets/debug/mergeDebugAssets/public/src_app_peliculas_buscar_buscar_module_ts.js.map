{"version":3,"file":"src_app_peliculas_buscar_buscar_module_ts.js","mappings":"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","sources":["./src/app/peliculas/buscar/buscar-routing.module.ts","./src/app/peliculas/buscar/buscar.module.ts","./src/app/peliculas/buscar/buscar.page.ts","./src/app/shared/Pipe/filtro.module.ts","./src/app/shared/Pipe/filtro.pipe.ts","./src/app/shared/Pipe/genre.pipe.ts","./src/app/shared/services/imdb.service.ts"],"sourcesContent":["import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { BuscarPage } from './buscar.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: BuscarPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class BuscarPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { BuscarPageRoutingModule } from './buscar-routing.module';\r\n\r\nimport { BuscarPage } from './buscar.page';\r\nimport { PipesModule } from 'src/app/shared/Pipe/filtro.module';\r\nimport { ComponentModule } from 'src/app/component/component.module';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    BuscarPageRoutingModule,\r\n    PipesModule,\r\n    ComponentModule\r\n  ],\r\n  declarations: [BuscarPage]\r\n})\r\nexport class BuscarPageModule {}\r\n","import { Component, EventEmitter, OnInit, ViewChild } from '@angular/core';\r\nimport { CheckboxCustomEvent, IonModal, ModalController } from '@ionic/angular';\r\nimport { ChartComponent } from 'src/app/component/chart/chart.component';\r\nimport { UpperToolbarComponent } from 'src/app/component/upper-toolbar/upper-toolbar.component';\r\nimport { Filtros } from 'src/app/shared/models/movie.model';\r\nimport { ImdbService } from 'src/app/shared/services/imdb.service';\r\n\r\n\r\n@Component({\r\n  selector: 'app-buscar',\r\n  templateUrl: './buscar.page.html',\r\n  styleUrls: ['./buscar.page.scss'],\r\n})\r\nexport class BuscarPage implements OnInit {\r\n\r\n  status: boolean = false;\r\n  loadedMovies: any;\r\n  filterData: Filtros;\r\n  filterDirector: string;\r\n  searchTitle = '';\r\n  loadedGenres: '';\r\n  searchGenre: string[] = [];\r\n  filtersGenre: string[];\r\n  searchDirector: string[] = [];\r\n  filtersDirector: string[];\r\n  //   @Input() genreInput: string;\r\n  // presentingElement = null;\r\n\r\n\r\n\r\n  @ViewChild(IonModal) modal: IonModal;\r\n\r\n  movie= localStorage.getItem('movie')\r\n\r\n  constructor(\r\n      private imdbService: ImdbService,\r\n      public modalCtrl: ModalController,\r\n      // private navParams: NavParams\r\n  ) {\r\n  }\r\n  // console.log(navParams.get('genre')) \r\n\r\n  local=localStorage.getItem('movie')\r\n\r\n  ngOnInit() {\r\n    if(localStorage.getItem('movie') !== null){\r\n      this.loadedMovies = this.imdbService.getMovieLocalStorage() \r\n      this.status=true\r\n      console.log('LS')\r\n      this.filters()\r\n      console.log('AAJSLKDJASKLDJASLK')\r\n      console.log(localStorage.getItem('movie'))\r\n    }\r\n    else\r\n    {\r\n    this.imdbService.getMovies().subscribe(res => {\r\n    this.loadedMovies = res;\r\n    console.log(this.loadedMovies);\r\n    this.status = true;\r\n    this.filters();\r\n    });\r\n    console.log('Sv')\r\n    };  \r\n  };\r\n  \r\n\r\n\r\n    filters(){\r\n      for (let i in this.loadedMovies) {\r\n        for (let g of this.loadedMovies[i].genreList) {\r\n           this.searchGenre.push(g.value);\r\n           this.filtersGenre = [...new Set(this.searchGenre)];\r\n           // console.log(this.filtersGenre)\r\n          };\r\n        for (let d of this.loadedMovies[i].directorList){\r\n          this.searchDirector.push(d.name);\r\n          this.filtersDirector = [...new Set(this.searchDirector)];\r\n              // console.log(this.filtersDirector)\r\n          };\r\n        };\r\n    };\r\n    // this.presentingElement = document.querySelector('.ion-page');\r\n  \r\n\r\n  // searchCustomer(event){\r\n  //   const text= event.target.value\r\n  //   this.searchMovie = this.movie \r\n  //   if(text && text.trim() != ''){\r\n  //     this.searchMovie = this.searchMovie.filter((movie: any)=>{\r\n  //       return (movie.title.toLowercase().indexOf(text.toLowercase()) > -1)\r\n  //     })\r\n  //   }\r\n  // }\r\n  searchMovie(event) {\r\n      const text = event.target.value;\r\n      this.searchTitle = text;\r\n  };\r\n\r\n//   cancel() {\r\n//       return this.modalCtrl.dismiss(null, 'cancel');\r\n//   }\r\n\r\n//   async saveTest(){\r\n//     this.save()\r\n//     return this.modalCtrl.dismiss(this.genreInput, 'confirm')\r\n//   }\r\n\r\n//   async save() {\r\n//       // return this.modalCtrl.dismiss(this.name, 'confirm');\r\n//       const { data } = await this.modal.onDidDismiss();\r\n//       console.log(data);\r\n//      this.filterGenre = data\r\n//      console.log(this.filterGenre)\r\n//   }\r\n\r\n\r\n\r\n\r\n  filterModal() {\r\n      // const ev = event as CheckboxCustomEvent\r\n      this.modalCtrl\r\n      .create({\r\n          component: ChartComponent,\r\n          componentProps: {\r\n            generos: this.filtersGenre,\r\n            directores: this.filtersDirector,\r\n            status: this.status\r\n          }\r\n      })\r\n      .then(modal =>{\r\n        modal.present();\r\n        return modal.onDidDismiss()})\r\n      .then((res: \r\n        {\r\n          role: string,\r\n          data: Filtros\r\n        }) =>{\r\n        if(res.role === 'confirm' ) {\r\n          this.filterData = res.data;\r\n          console.log(this.filterData);\r\n          \r\n          // const genre = this.filterGenre\r\n          // return  this.filtrado = genre\r\n          \r\n          // const director = this.filterGenre\r\n          // this.filtradoD = director\r\n        };\r\n      });\r\n      \r\n    };\r\n  };","import { NgModule } from '@angular/core';\r\nimport { FiltroPipe } from './filtro.pipe';\r\nimport { GeneroPipe } from './genre.pipe';\r\n\r\n\r\n@NgModule({\r\n  declarations: [\r\n    FiltroPipe,\r\n    GeneroPipe],\r\n  exports: [\r\n    FiltroPipe,\r\n    GeneroPipe]\r\n  \r\n})\r\nexport class PipesModule { }\r\n","import { Pipe, PipeTransform } from '@angular/core';\r\nimport { Movie } from '../models/imdbMovies.model';\r\n\r\n\r\n@Pipe({\r\n  name: 'filtro'\r\n})\r\nexport class FiltroPipe implements PipeTransform {\r\n\r\n  transform(movie: Movie[], text: string): Movie[] {\r\n  \r\n      if( text.length === 0 ) {\r\n        return movie\r\n      }\r\n\r\n      text= text.toLocaleLowerCase();\r\n\r\n      return movie.filter(value=>{\r\n        return value.title.toLocaleLowerCase().includes(text)\r\n      });\r\n  }\r\n\r\n}","import { Input, Pipe, PipeTransform } from '@angular/core';\r\nimport { Movie } from '../models/imdbMovies.model';\r\nimport { Filtros } from '../models/movie.model';\r\n\r\n\r\n@Pipe({\r\n  name: 'genero'\r\n})\r\nexport class GeneroPipe implements PipeTransform {\r\n  \r\n\r\n\r\n  // @Input() filterData: Filtros\r\n  mensaje: 'La combinación que buscaste no existe'\r\n  \r\n  \r\n  transform(movie: Movie[] , data: Filtros): Movie[] {\r\n    \r\n    // const {generoUsuario , directorUsuario} = data;\r\n\r\n    if(data === undefined){\r\n      return movie\r\n    }\r\n\r\n    if (data.generoUsuario.length && data.directorUsuario.length) {\r\n        return movie.filter(item => {\r\n            \r\n            if (item.genreList.find(item => item.value.includes(data.generoUsuario)) &&\r\n                item.directorList.find(item => item.name.includes(data.directorUsuario))\r\n                ) {\r\n                  return item.genreList.find(item => item.value.includes(data.generoUsuario)) &&\r\n                item.directorList.find(item => item.name.includes(data.directorUsuario))\r\n                }\r\n            \r\n        })\r\n    }\r\n    \r\n    if (data.generoUsuario.length) {\r\n        return movie.filter(movie => {\r\n            return movie.genreList.find(item => item.value.includes(data.generoUsuario) )\r\n            console.log(movie.genreList.find(item => item.value.includes(data.generoUsuario) ))\r\n        })\r\n    }\r\n    \r\n    if (data.directorUsuario.length) {\r\n       return movie.filter(movie => {\r\n            return movie.directorList.find(item => item.name.includes(data.directorUsuario) )\r\n        })\r\n    }\r\n    \r\n}\r\n\r\n\r\n\r\n    // if(data !== undefined){\r\n    //   console.log(data)\r\n    //     movie.filter(res=>{\r\n    //       res.genres.includes(data)\r\n    //       peliculasFiltradas.push()\r\n    //       // console.log(peliculasFiltradas)\r\n    //     })\r\n    //     return peliculasFiltradas\r\n    // };\r\n    // if(data === undefined){\r\n    //   return movie\r\n    // }\r\n\r\n\r\n  // if( dato !== null ) {\r\n    //     return datoList.filter(res=>{\r\n      //         return res.value.includes(dato)\r\n      //     });\r\n      // }\r\n    // else if(dato = movie[i].directors){\r\n    //    movie.filter(res=>{\r\n    //      res.datos.includes(dato)\r\n    //   })\r\n    // }\r\n    // else if(dato == movie[i].datos && movie[i].directors){\r\n      \r\n    //   movie.filter(res=>{\r\n    //     res.datos.includes(dato)\r\n    //     res.directors.includes(dato)})\r\n      \r\n    //     if(movie.length >= 1){\r\n    //     return  movie.filter(res=>{\r\n    //       res.datos.includes(dato)\r\n    //       res.directors.includes(dato)\r\n    //     })\r\n    //   }\r\n    // }\r\n    // else\r\n    // {\r\n    //   return movie.filter(res=>{\r\n    //     return res.directors.includes(dato)\r\n    //   })\r\n    // }\r\n\r\n\r\n// movie: Movie[]\r\n}","import { Injectable } from '@angular/core';\r\nimport { HttpClient } from '@angular/common/http'\r\nimport { Movie } from '../models/imdbMovies.model';\r\nimport { environment } from 'src/environments/environment';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ImdbService {\r\n  private baseUrl = environment.URL_BD_JSON;\r\n  private expUrl = environment.URL_BD_JSON_EXP;\r\n  private movies: Movie[] = []\r\n  test: string\r\n  movie = JSON.parse(localStorage.getItem('movie'))\r\n\r\n  constructor(private http: HttpClient) { }\r\n\r\n  getMovies() {\r\n    return this.http.get(this.baseUrl)\r\n  }\r\n\r\n  findMovie(id: string) {\r\n    return this.http.get(this.expUrl + '/' + id + '.json')\r\n  }\r\n\r\n  postM(data, id: string) {\r\n    this.http.put('https://mooli-3d0bf-default-rtdb.firebaseio.com/peliculasBD/' + id + '.json', data).subscribe()\r\n  }\r\n\r\n  getMovieLocalStorage() {\r\n    return this.movie;\r\n    // console.log(this.local)\r\n  };\r\n\r\n  findMovieLs(id: string) {\r\n\r\n    // if(this.movie.id === id){\r\n    //   this.test = this.movie\r\n    // }\r\n\r\n    for (let x of this.movie) {\r\n      if (x.id === id) {\r\n        this.test = x\r\n      }\r\n    }\r\n    return this.test\r\n\r\n    // for(let x of this.movie){\r\n    //   this.idLs.push(x.id)   \r\n    // }\r\n    // return this.idLs\r\n  }\r\n  localStorage(x: string) {\r\n    // JSON.stringify\r\n    return localStorage.setItem('movie', JSON.stringify((x)));\r\n    // JSON.parse\r\n\r\n    // JSON.parse(localStorage.getItem('movie'));\r\n  };\r\n}\r\n"],"names":["Component","ViewChild","IonModal","ModalController","ChartComponent","ImdbService","BuscarPage","constructor","imdbService","modalCtrl","localStorage","getItem","ngOnInit","loadedMovies","getMovieLocalStorage","status","console","log","filters","getMovies","subscribe","res","i","g","genreList","searchGenre","push","value","filtersGenre","Set","d","directorList","searchDirector","name","filtersDirector","searchMovie","event","text","target","searchTitle","filterModal","create","component","componentProps","generos","directores","then","modal","present","onDidDismiss","role","filterData","data","args","selector","template"],"sourceRoot":"webpack:///","x_google_ignoreList":[]}