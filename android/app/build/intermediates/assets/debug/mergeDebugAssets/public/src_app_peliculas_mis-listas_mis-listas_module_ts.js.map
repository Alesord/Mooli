{"version":3,"file":"src_app_peliculas_mis-listas_mis-listas_module_ts.js","mappings":"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","sources":["./src/app/peliculas/mis-listas/crear-lista/crear-lista.component.ts","./src/app/peliculas/mis-listas/mis-listas-routing.module.ts","./src/app/peliculas/mis-listas/mis-listas.module.ts","./src/app/peliculas/mis-listas/mis-listas.page.ts","./src/app/shared/services/list.service.ts","./node_modules/rxjs/_esm2015/internal/operators/takeUntil.js"],"sourcesContent":["import { Component, Input, OnInit } from '@angular/core';\r\nimport { FormControl, FormGroup, Validators } from '@angular/forms';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { movieList } from 'src/app/shared/models/list.model';\r\nimport { ListService } from 'src/app/shared/services/list.service';\r\n\r\n@Component({\r\n  selector: 'app-crear-lista',\r\n  templateUrl: './crear-lista.component.html',\r\n  styleUrls: ['./crear-lista.component.scss'],\r\n})\r\nexport class CrearListaComponent implements OnInit {\r\n\r\n  @Input() idUser: string;\r\n  createDetector: boolean = false;\r\n  nameId: string;\r\n  listaNueva: movieList;\r\n\r\n  listaForm = new FormGroup ({\r\n    nombreLista: new FormControl('', Validators.required),\r\n    contenidoLista: new FormControl()\r\n  })\r\n\r\n  constructor(\r\n    private modalCtrl: ModalController,\r\n    private listService: ListService\r\n  ) { }\r\n\r\n  ngOnInit() {}\r\n\r\n  onCancel() {\r\n    this.modalCtrl.dismiss([this.createDetector,  this.listaNueva.nombre]);\r\n    this.createDetector = false;\r\n  }\r\n\r\n  onSubmit() {\r\n    this.nameId = this.listaForm.get('nombreLista').value.toLowerCase().replace(/\\s/g, '-')\r\n    console.log(this.nameId)\r\n    this.listaNueva = {\r\n      nombre: this.listaForm.value.nombreLista,\r\n      contenido: ['']\r\n    }\r\n    this.listService.OnCreateNewList(this.listaNueva, this.nameId).subscribe()\r\n    this.nameId = '';\r\n    this.listaForm.reset\r\n    this.createDetector = true;\r\n    this.onCancel();\r\n  }\r\n}\r\n","import { NgModule } from '@angular/core';\r\nimport { Routes, RouterModule } from '@angular/router';\r\n\r\nimport { MisListasPage } from './mis-listas.page';\r\n\r\nconst routes: Routes = [\r\n  {\r\n    path: '',\r\n    component: MisListasPage\r\n  }\r\n];\r\n\r\n@NgModule({\r\n  imports: [RouterModule.forChild(routes)],\r\n  exports: [RouterModule],\r\n})\r\nexport class MisListasPageRoutingModule {}\r\n","import { NgModule } from '@angular/core';\r\nimport { CommonModule } from '@angular/common';\r\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\r\n\r\nimport { IonicModule } from '@ionic/angular';\r\n\r\nimport { MisListasPageRoutingModule } from './mis-listas-routing.module';\r\n\r\nimport { MisListasPage } from './mis-listas.page';\r\nimport { CrearListaComponent } from './crear-lista/crear-lista.component';\r\n\r\n@NgModule({\r\n  imports: [\r\n    CommonModule,\r\n    FormsModule,\r\n    IonicModule,\r\n    MisListasPageRoutingModule,\r\n    ReactiveFormsModule\r\n  ],\r\n  declarations: [\r\n    MisListasPage,\r\n    CrearListaComponent\r\n  ],\r\n  entryComponents: [CrearListaComponent]\r\n})\r\nexport class MisListasPageModule {}\r\n","import { Component, OnDestroy, OnInit } from '@angular/core';\r\nimport { ActivatedRoute, Router } from '@angular/router';\r\nimport { ModalController } from '@ionic/angular';\r\nimport { Subject } from 'rxjs';\r\nimport { takeUntil } from 'rxjs/operators';\r\nimport { Lista } from 'src/app/shared/models/list.model';\r\nimport { AuthService } from 'src/app/shared/services/auth.service';\r\nimport { ImdbService } from 'src/app/shared/services/imdb.service';\r\nimport { ListService } from 'src/app/shared/services/list.service';\r\nimport { SeenService } from 'src/app/shared/services/seen.service';\r\nimport { CrearListaComponent } from './crear-lista/crear-lista.component';\r\n\r\n@Component({\r\n  selector: 'app-mis-listas',\r\n  templateUrl: './mis-listas.page.html',\r\n  styleUrls: ['./mis-listas.page.scss'],\r\n})\r\nexport class MisListasPage implements OnInit, OnDestroy {\r\n\r\n  loadedMovies: any[] = [];\r\n  loadedLists: any;\r\n  allIds: any[] = [];\r\n  isLoaded: boolean = false;\r\n  userKey: string = 'usuario1h18'\r\n  unsub: Subject<void> = new Subject()\r\n\r\n  constructor(\r\n    private listService: ListService,\r\n    private modalCtrl: ModalController,\r\n    private authService: AuthService,\r\n    private router: Router\r\n  ) { }\r\n\r\n  ngOnInit() {\r\n  }\r\n\r\n  ionViewWillEnter() {\r\n      console.log('Entrando a mis listas')\r\n      this.loadedLists = this.listService.getAllLists()\r\n      console.log(this.loadedLists)\r\n      console.log(this.loadedLists.find(x => x.nombre === 'Test'))\r\n      this.isLoaded = true;\r\n  }\r\n\r\n  onAddList() {\r\n    this.modalCtrl\r\n    .create({ component: CrearListaComponent, componentProps: {idUser: this.userKey} })\r\n    .then(modalElement => {\r\n      modalElement.present();\r\n      modalElement.onDidDismiss().then((data) => {\r\n        if (data.data[0]) {\r\n          this.loadedLists.push({nombre: data.data[1], contenido: ['']})\r\n        }\r\n      })\r\n    })\r\n  }\r\n\r\n  onDelete(listNombre: string){\r\n    let listId: string = listNombre.toLowerCase().replace(/\\s/g, '-')\r\n    this.listService.deleteList(listId)\r\n    .pipe(takeUntil(this.unsub))\r\n    .subscribe()\r\n  }\r\n\r\n  onLogout() {\r\n    this.authService.logout()\r\n    this.router.navigateByUrl('/auth');\r\n  }\r\n\r\n  ngOnDestroy() {\r\n    this.unsub.next();\r\n    this.unsub.unsubscribe();\r\n  }\r\n\r\n}\r\n","import { HttpClient } from '@angular/common/http';\r\nimport { Injectable } from '@angular/core';\r\nimport { environment } from 'src/environments/environment';\r\nimport { map } from 'rxjs/operators';\r\nimport { AuthService } from './auth.service';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class ListService {\r\n  constructor(\r\n    private http: HttpClient,\r\n    private authService: AuthService\r\n    ) { }\r\n\r\n  private userId: string = this.authService.userKey;\r\n  private baseUrl = `${environment.URL_USERS}/${this.userId}/listas/`\r\n  private plainUrl = `${environment.URL_USERS}/${this.userId}/listas.json`\r\n\r\n  OnCreateNewList(data, folderName) {\r\n    console.log('poniendo lista en ' + this.baseUrl + folderName + '.json', data)\r\n    return this.http.put(this.baseUrl + folderName + '.json', data)\r\n  }\r\n  \r\n  deleteList(id: string){\r\n    return this.http.delete(this.baseUrl + id + '.json')\r\n  }\r\n\r\n  displayExistingLists() {\r\n    return this.http.get(this.plainUrl)\r\n  }\r\n\r\n  getAllLists() {\r\n    let array: any[] = []\r\n    let arrayX: any[] = []\r\n    this.http.get(this.plainUrl).pipe(map(response => {\r\n      for (let k in response) {\r\n        array.push(response[k])\r\n      }\r\n      for (let x in array) {\r\n        arrayX.push({\r\n          nombre: array[x].nombre,\r\n          contenido: []\r\n        })\r\n        for (let cont in array[x].contenido) {\r\n          if (cont !== '0') { //Filtro para que no tire el 0 que se genera al crear una lista nueva siempre\r\n            arrayX[x].contenido.push({\r\n              id: cont,\r\n              imagen: array[x].contenido[cont].imagen,\r\n              titulo: array[x].contenido[cont].titulo\r\n            })\r\n          }\r\n        }\r\n      }\r\n    })).subscribe()\r\n    return arrayX;\r\n  }\r\n\r\n  getList(ind, movieId) {\r\n    const gotList: string[] = [];\r\n    let exist: boolean = false;\r\n    this.http.get(this.plainUrl)\r\n    .pipe(map(res => {\r\n      for (const key in res[ind].listContent){\r\n        gotList.push(res[ind].listContent[key])\r\n        console.log(gotList)\r\n        if (res[ind].listContent[key] === movieId){\r\n          exist = true;\r\n        }\r\n      } \r\n      console.log('El id es ' + movieId);\r\n      if (exist === false) {\r\n        console.log('Primero' + [{...gotList}])\r\n        gotList.push(movieId);\r\n        console.log('Segundo' + gotList)\r\n      }\r\n      console.log('esta peli ' + exist)\r\n      let x = gotList.reduce(function(s,a){\r\n        s.push(a);\r\n        console.log('coso ' + s);\r\n        return s;\r\n      }, [])\r\n      console.log(x)\r\n      this.http.put(this.baseUrl + ind + '/listContent.json', x).subscribe({next: respuesta => {\r\n      }})\r\n    })).subscribe()\r\n  }\r\n\r\n  MovieToList(chosenOpt: string, loadedId: string, data) {\r\n    return this.http.put(this.baseUrl + '/' + chosenOpt +'/contenido/' + loadedId + '.json', data)\r\n  }\r\n\r\n}\r\n","import { innerSubscribe, SimpleInnerSubscriber, SimpleOuterSubscriber } from '../innerSubscribe';\nexport function takeUntil(notifier) {\n    return (source) => source.lift(new TakeUntilOperator(notifier));\n}\nclass TakeUntilOperator {\n    constructor(notifier) {\n        this.notifier = notifier;\n    }\n    call(subscriber, source) {\n        const takeUntilSubscriber = new TakeUntilSubscriber(subscriber);\n        const notifierSubscription = innerSubscribe(this.notifier, new SimpleInnerSubscriber(takeUntilSubscriber));\n        if (notifierSubscription && !takeUntilSubscriber.seenValue) {\n            takeUntilSubscriber.add(notifierSubscription);\n            return source.subscribe(takeUntilSubscriber);\n        }\n        return takeUntilSubscriber;\n    }\n}\nclass TakeUntilSubscriber extends SimpleOuterSubscriber {\n    constructor(destination) {\n        super(destination);\n        this.seenValue = false;\n    }\n    notifyNext() {\n        this.seenValue = true;\n        this.complete();\n    }\n    notifyComplete() {\n    }\n}\n"],"names":["innerSubscribe","SimpleInnerSubscriber","SimpleOuterSubscriber","takeUntil","notifier","source","lift","TakeUntilOperator","constructor","call","subscriber","takeUntilSubscriber","TakeUntilSubscriber","notifierSubscription","seenValue","add","subscribe","destination","notifyNext","complete","notifyComplete"],"sourceRoot":"webpack:///","x_google_ignoreList":[5]}